<div class="p-carousel">
  <div class="swiper-container swiper--{{ category }}">
    <div class="p-carousel__scroller u-clearfix swiper-wrapper">
      {% for snap in snaps %}
        {% if loop.index0 % 4 == 0 %}
        <a class="p-media-object--snap p-carousel__item p-carousel__item--featured-0 swiper-slide col-6 tablet-col-3" href="/{{ snap.package_name }}">
          {% if snap.icon_url %}
            <img src="{{ snap.icon_url }}" class="p-media-object--snap__image" alt="">
          {% else %}
            <img src="https://assets.ubuntu.com/v1/6fbb3483-snapcraft-default-snap-icon.svg" class="p-media-object--snap__image" alt="">
          {% endif %}
          <div class="p-media-object--snap__details">
            <h4 class="p-media-object--snap__title">
              {{ snap.title }}
            </h4>
            <p class="p-media-object--snap__content">
              <span class="u-off-screen">Publisher: </span>{{ snap.publisher }}
              {% if snap.developer_validation and snap.developer_validation == VERIFIED_PUBLISHER %}
                <span class="p-verified p-tooltip p-tooltip--top-center" aria-describedby="{{ snap.package_name }}-tooltip">
                  <img src="https://assets.ubuntu.com/v1/75654c90-rosette.svg" />
                  <span class="p-tooltip__message u-align--center" role="tooltip" id="{{ snap.package_name }}-tooltip">Verified account</span>
                </span>
              {% endif %}
              {{ snap.tagline }}
            </p>
          </div>
        </a>
        {% elif loop.index0 % 4 == 1 %}
        <a class="p-media-object--snap p-carousel__item p-carousel__item--featured-1 swiper-slide col-3 tablet-col-1" href="/{{ snap.package_name }}">
          {% if snap.icon_url %}
            <img src="{{ snap.icon_url }}" class="p-media-object--snap__image" alt="">
          {% else %}
            <img src="https://assets.ubuntu.com/v1/6fbb3483-snapcraft-default-snap-icon.svg" class="p-media-object--snap__image" alt="">
          {% endif %}
          <div class="p-media-object--snap__details">
            <h4 class="p-media-object--snap__title">
              {{ snap.title }}
            </h4>
            <p class="p-media-object--snap__content">
              <span class="u-off-screen">Publisher: </span>{{ snap.publisher }}
              {% if snap.developer_validation and snap.developer_validation == VERIFIED_PUBLISHER %}
                <span class="p-verified p-tooltip p-tooltip--top-center" aria-describedby="{{ snap.package_name }}-tooltip">
                  <img src="https://assets.ubuntu.com/v1/75654c90-rosette.svg" />
                  <span class="p-tooltip__message u-align--center" role="tooltip" id="{{ snap.package_name }}-tooltip">Verified account</span>
                </span>
              {% endif %}
            </p>
          </div>
        </a>
        {% elif loop.index0 > 1 and loop.index0 % 2 == 0 %}
          <div class="p-carousel__item swiper-slide col-3 mobile-col-2 tablet-col-3">
            <div class="top-half p-card--highlighted">
              <a class="p-media-object--snap" href="/{{ snap.package_name }}">
                {% if snap.icon_url %}
                  <img src="{{ snap.icon_url }}" class="p-media-object--snap__image" alt="">
                {% else %}
                  <img src="https://assets.ubuntu.com/v1/6fbb3483-snapcraft-default-snap-icon.svg" class="p-media-object--snap__image" alt="">
                {% endif %}

                <div class="p-media-object--snap__details">
                  <h4 class="p-media-object--snap__title">
                    {{ snap.title }}
                  </h4>
                  <p class="p-media-object--snap__content">
                    <span class="u-off-screen">Publisher: </span>{{ snap.publisher }}
                    {% if snap.developer_validation and snap.developer_validation == VERIFIED_PUBLISHER %}
                      <span class="p-verified p-tooltip p-tooltip--top-center" aria-describedby="{{ snap.package_name }}-tooltip">
                        <img src="https://assets.ubuntu.com/v1/75654c90-rosette.svg" />
                        <span class="p-tooltip__message u-align--center" role="tooltip" id="{{ snap.package_name }}-tooltip">Verified account</span>
                      </span>
                    {% endif %}
                  </p>
                </div>
              </a>
            </div>
        {% elif loop.index0 > 1 and loop.index0 % 2 == 1%}
            <div class="bottom-half p-card--highlighted">
              <a class="p-media-object--snap" href="/{{ snap.package_name }}">
                {% if snap.icon_url %}
                  <img src="{{ snap.icon_url }}" class="p-media-object--snap__image" alt="">
                {% else %}
                  <img src="https://assets.ubuntu.com/v1/6fbb3483-snapcraft-default-snap-icon.svg" class="p-media-object--snap__image" alt="">
                {% endif %}

                <div class="p-media-object--snap__details">
                  <h4 class="p-media-object--snap__title">
                    {{ snap.title }}
                  </h4>
                  <p class="p-media-object--snap__content">
                    <span class="u-off-screen">Publisher: </span>{{ snap.publisher }}
                    {% if snap.developer_validation and snap.developer_validation == VERIFIED_PUBLISHER %}
                      <span class="p-verified p-tooltip p-tooltip--top-center" aria-describedby="{{ snap.package_name }}-tooltip">
                        <img src="https://assets.ubuntu.com/v1/75654c90-rosette.svg" />
                        <span class="p-tooltip__message u-align--center" role="tooltip" id="{{ snap.package_name }}-tooltip">Verified account</span>
                      </span>
                    {% endif %}
                  </p>
                </div>
              </a>
            </div>
          </div>
        {% else %}
        <div class="p-carousel__item swiper-slide col-3 mobile-col-2 tablet-col-3">
          <div class="p-card--highlighted">
            <a class="p-media-object--snap" href="/{{ snap.package_name }}">
              {% if snap.icon_url %}
                <img src="{{ snap.icon_url }}" class="p-media-object--snap__image" alt="">
              {% else %}
                <img src="https://assets.ubuntu.com/v1/6fbb3483-snapcraft-default-snap-icon.svg" class="p-media-object--snap__image" alt="">
              {% endif %}

              <div class="p-media-object--snap__details">
                <h4 class="p-media-object--snap__title">
                  {{ snap.title }}
                </h4>
                <p class="p-media-object--snap__content">
                  <span class="u-off-screen">Publisher: </span>{{ snap.publisher }}
                  {% if snap.developer_validation and snap.developer_validation == VERIFIED_PUBLISHER %}
                    <span class="p-verified p-tooltip p-tooltip--top-center" aria-describedby="{{ snap.package_name }}-tooltip">
                      <img src="https://assets.ubuntu.com/v1/75654c90-rosette.svg" />
                      <span class="p-tooltip__message u-align--center" role="tooltip" id="{{ snap.package_name }}-tooltip">Verified account</span>
                    </span>
                  {% endif %}
                </p>
              </div>
            </a>
          </div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  <button class="p-carousel__next swiper-button-next--{{ category }}">Next</button>
  <button class="p-carousel__prev swiper-button-prev--{{ category }}">Previous</button>
</div>
